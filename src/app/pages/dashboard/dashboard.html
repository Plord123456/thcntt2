<div class="main-container">
  <header class="header-bar">
    <span class="brand">Hệ Thống Quản Lý Chấm Công</span>
    <button class="btn" (click)="logout()">Đăng Xuất</button>
    <button class="btn" (click)="goToEmployeeManagement()">Quản Lý Nhân Viên</button>
  </header>

  <h2 class="title">Bảng Điều Khiển Chấm Công</h2>

  <section class="card">
    <div class="card-body">
      <div class="search-row">
        <input type="text" class="input" placeholder="Tìm kiếm theo tên nhân viên, RFID, ngày..." [(ngModel)]="searchTerm" (input)="search()">
        <button class="btn primary" (click)="search()">Tra Cứu</button>
        <button class="btn success" (click)="exportToExcel()">Xuất Báo Cáo</button>
      </div>
    </div>
  </section>

  <div class="table-container">
    <table class="employee-table">
      <thead>
      <tr>
        <th>Họ và Tên</th>
        <th>RFID</th>
        <th>Ngày</th>
        <th>Thời Gian Vào</th>
        <th>Thời Gian Ra</th>
        <th>Trạng Thái</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let record of filteredData">
        <td>{{ record.HoVaTen }}</td>
        <td>{{ record.RFID }}</td>
        <td>{{ record.Ngay | date: 'dd/MM/yyyy' }}</td>
        <td>{{ record.ThoiGianVao }}</td>
        <td>{{ record.ThoiGianRa || 'Chưa check-out' }}</td>
        <td>
            <span class="badge" [ngClass]="{'success': record.Status === 'DUNG GIO', 'danger': record.Status === 'DI TRE'}">
              {{ record.Status }}
            </span>
        </td>
      </tr>
      <tr *ngIf="filteredData.length === 0">
        <td colspan="6" class="text-center">Không tìm thấy dữ liệu phù hợp.</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
